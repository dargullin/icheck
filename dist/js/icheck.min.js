/*!
 * iCheck v2.0.0 rc1, http://git.io/arlzeA
 * =======================================
 * Cross-platform checkboxes and radio buttons customization
 *
 * (c) Damir Sultanov - http://fronteed.com
 * MIT Licensed
 */
!function(e,t,a){e.ichecked||(e.ichecked=function(){a=e.jQuery||e.Zepto;var i={autoInit:!0,autoAjax:!1,tap:!0,checkboxClass:"icheckbox",radioClass:"iradio",checkedClass:"checked",disabledClass:"disabled",indeterminateClass:"indeterminate",hoverClass:"hover",callbacks:{ifCreated:!1},classes:{base:"icheck",div:"#-item",area:"#-area-",input:"#-input",label:"#-label"}};e.icheck=a.extend(i,e.icheck);var n=e.navigator.userAgent,c=/MSIE [5-8]/.test(n)||t.documentMode<9,s=/Opera Mini/.test(n),l=i.classes.base,r=i.classes.div.replace("#",l),d=i.classes.area.replace("#",l),o=i.classes.input.replace("#",l),u=i.classes.label.replace("#",l);delete i.classes;var h,p,f="input[type=checkbox],input[type=radio]",m={},k={},b=new RegExp(l+"\\[(.*?)\\]"),y=function(e,t,a){return e&&(t=b.exec(e),t&&k[t[1]]&&(a=t[1])),a},g=e.getComputedStyle,v=e.PointerEvent||e.MSPointerEvent,C="ontouchend"in e,x=/mobile|tablet|phone|ip(ad|od)|android|silk|webos/i.test(n),N=["mouse","down","up","over","out"],w=e.PointerEvent?["pointer",N[1],N[2],N[3],N[4]]:["MSPointer","Down","Up","Over","Out"],E=["touch","start","end"],A=C&&x||v,O=A?C?E[0]+E[1]:w[0]+w[3]:N[0]+N[3],j=A?C?E[0]+E[2]:w[0]+w[4]:N[0]+N[4],D=A?C?!1:w[0]+w[1]:N[0]+N[1],S=A?C?!1:w[0]+w[2]:N[0]+N[2],T=s?"":O+".i "+j+".i ",L=!s&&D?D+".i "+S+".i":"",M=i.areaStyle!==!1?'position:absolute;display:block;content:"";top:#;bottom:#;left:#;right:#;':0,P="position:absolute!;display:block!;outline:none!;"+(i.debug?"":"opacity:0!;z-index:-99!;clip:rect(0 0 0 0)!;"),I=function(a,i,n){h||(h=t.createElement("style"),(t.head||t.getElementsByTagName("head")[0]).appendChild(h),e.createPopup||h.appendChild(t.createTextNode("")),p=h.sheet||h.styleSheet),i||(i="div."+(n?d+n+":after":r+" input."+o)),a=a.replace(/!/g," !important"),p.addRule?p.addRule(i,a,0):p.insertRule(i+"{"+a+"}",0)};I(P),(C&&x||s)&&I("cursor:pointer!;","label."+u+",div."+r),I("display:none!","iframe.icheck-frame");var R=function(e,t,a,i,n,c,s){return i=e.className,i?(n=" "+i+" ",1===a?c=t:0===a?s=t:(c=t[0],s=t[1]),c&&n.indexOf(" "+c+" ")<0&&(n+=c+" "),s&&~n.indexOf(" "+s+" ")&&(n=n.replace(" "+s+" "," ")),n=n.replace(/^\s+|\s+$/g,""),n!==i&&(e.className=n),n):void 0},U=function(e,t,i,n,c,s){k[t]&&(n=k[t],c=n.className,s=a(F(e,"div",c)),s.length&&(a(e).removeClass(o+" "+c).attr("style",n.style),a("label."+n.esc).removeClass(u+" "+c),a(s).replaceWith(a(e)),i&&Q(e,t,i)),k[t]=!1)},B=function(e,t,i,n,c){for(i=[],n=e.length;n--;)if(t=e[n],t.type)~f.indexOf(t.type)&&i.push(t);else for(t=a(t).find(f),c=t.length;c--;)i.push(t[c]);return i},F=function(e,t,a,i){for(;e&&9!==e.nodeType;)if(e=e.parentNode,e&&e.tagName==t.toUpperCase()&&~e.className.indexOf(a)){i=e;break}return i},Q=function(e,t,i){i="if"+i,k[t].callbacks&&k[t].callbacks[i]!==!1&&(a(e).trigger(i),"function"==typeof k[t].callbacks[i]&&k[t].callbacks[i](e,k[t]))},$=function(n,c,s,h){for(var p=B(n),b=p.length;b--;){for(var v,C,x,N,w,E,A,O,j,D,S,T,L,P,$,V,W,q,H=p[b],Z=H.attributes,G={},J=Z.length,K={},X={},Y=H.id,_=H.className,ee=H.type,te=a.cache?a.cache[H[a.expando]]:0,ae=y(_),ie="",ne=!1,ce=[],se=e.FastClick?" needsclick":"";J--;)v=Z[J].name,C=Z[J].value,~v.indexOf("data-")&&(K[v.substr(5)]=C),"style"==v&&(A=C),G[v]=C;te&&te.data&&(K=a.extend(K,te.data));for(x in K)C=K[x],("true"==C||"false"==C)&&(C="true"==C),X[x.replace(/checkbox|radio|class|id|label/g,function(e,t){return 0===t?e:e.charAt(0).toUpperCase()+e.slice(1)})]=C;if(O=a.extend({},i,e.icheck,X,c),D=O.handle,"checkbox"!==D&&"radio"!==D&&(D=f),O.init!==!1&&~D.indexOf(ee)){for(ae&&U(H,ae);!k[ae];)if(ae=Math.random().toString(36).substr(2,5),!k[ae]){j=l+"["+ae+"]";break}if(delete O.autoInit,delete O.autoAjax,O.style=A||"",O.className=j,O.esc=j.replace(/(\[|\])/g,"\\$1"),k[ae]=O,P=F(H,"label",""),P&&(!P.htmlFor&&Y&&(P.htmlFor=Y),ce.push(P)),Y)for($=a('label[for="'+Y+'"]');$.length--;)L=$[$.length],L!==P&&ce.push(L);for(q=ce.length;q--;)L=ce[q],W=L.className,V=y(W),W=V?R(L,l+"["+V+"]",0):(W?W+" ":"")+u,L.className=W+" "+j+se;if(S=t.createElement("div"),O.inherit)for(N=O.inherit.split(/\s*,\s*/),E=N.length;E--;)w=N[E],void 0!==G[w]&&("class"==w?ie+=G[w]+" ":S.setAttribute(w,"id"==w?l+"-"+G[w]:G[w]));ie+=O[ee+"Class"],ie+=" "+r+" "+j,O.area&&M&&(ne=0|(""+O.area).replace(/%|px|em|\+|-/g,""),ne&&(m[ne]||(I(M.replace(/#/g,"-"+ne+"%"),!1,ne),m[ne]=!0),ie+=" "+d+ne)),S.className=ie+se,H.className=(_?_+" ":"")+o+" "+j,H.parentNode.replaceChild(S,H),S.appendChild(H),O.insert&&a(S).append(O.insert),ne&&(T=g?g(S,null).getPropertyValue("position"):S.currentStyle.position,"static"==T&&(S.style.position="relative")),z(H,S,ae,"updated",!0,!1,s),k[ae].done=!0,h||Q(H,ae,"Created")}}},z=function(e,t,a,i,n,c,s){var l=k[a],r={},d={};r.checked=[e.checked,"Checked","Unchecked"],c&&!s||"click"===i||(r.disabled=[e.disabled,"Disabled","Enabled"],r.indeterminate=["true"==e.getAttribute("indeterminate")||!!e.indeterminate,"Indeterminate","Determinate"]),"updated"==i||"click"==i?(d.checked=c?!r.checked[0]:r.checked[0],c&&!s||"click"===i||(d.disabled=r.disabled[0],d.indeterminate=r.indeterminate[0])):"checked"==i||"unchecked"==i?d.checked="checked"==i:"disabled"==i||"enabled"==i?d.disabled="disabled"==i:"indeterminate"==i||"determinate"==i?d.indeterminate="determinate"!==i:d.checked=!r.checked[0],V(e,t,r,d,a,l,i,n,c,s)},V=function(e,t,i,n,c,s,l,r,d,o,u){var h,p,f,m,b,g,v,C,N,w,E,A,O,j,D=e.type,S="radio"==D?"Radio":"Checkbox",T="LabelClass";if(t||(t=F(e,"div",s.className)),t){for(h in n)if(p=n[h],i[h][0]!==p&&"updated"!==l&&"click"!==l&&(e[h]=p),o&&(p?e.setAttribute(h,h):e.removeAttribute(h)),s[h]!==p){if(s[h]=p,O=!0,"checked"==h&&(j=!0,!u&&p&&(k[c].done||o)&&"radio"==D&&e.name))for(g=F(e,"form",""),v='input[name="'+e.name+'"]',v=g&&!o?a(g).find(v):a(v),C=v.length;C--;)N=v[C],w=y(N.className),e!==N&&k[w]&&k[w].checked&&(E={checked:[!0,"Checked","Unchecked"]},A={checked:!1},V(N,!1,E,A,w,k[w],"updated",r,d,o,!0));if(f=[s[h+"Class"],s[h+S+"Class"],s[i[h][1]+"Class"],s[i[h][1]+S+"Class"],s[h+T]],m=[f[3]||f[2],f[1]||f[0]],p&&m.reverse(),R(t,m),s.mirror&&f[4])for(b=a("label."+s.esc);b.length--;)R(b[b.length],f[4],p?1:0);(!r||u)&&Q(e,c,i[h][p?1:2])}(!r||u)&&(O&&Q(e,c,"Changed"),j&&Q(e,c,"Toggled")),s.cursor&&!x&&(s.disabled||s.pointer?s.disabled&&s.pointer&&(t.style.cursor="default",s.pointer=!1):(t.style.cursor="pointer",s.pointer=!0)),k[c]=s}};a.fn.icheck=function(e,t){if(/^(checked|unchecked|indeterminate|determinate|disabled|enabled|updated|toggle|destroy|data|styler)$/.test(e))for(var a=B(this),i=a.length;i--;){var n=a[i],c=y(n.className);if(c){if("data"==e)return k[c];if("styler"==e)return F(n,"div",k[c].className);"destroy"==e?U(n,c,"Destroyed"):z(n,!1,c,e),"function"==typeof t&&t(n)}}else"object"!=typeof e&&e||$(this,e||{});return this};var W;a(t).on("click.i "+T+L,"label."+u+",div."+r,function(e){var t=this,i=y(t.className);if(i){var n,l,r,d,o=e.type,u=k[i],h=u.esc,p="DIV"==t.tagName,f=[["label",u.activeLabelClass,u.hoverLabelClass],["div",u.activeClass,u.hoverClass]];if(p&&f.reverse(),o==D||o==S){if(f[0][1]&&R(t,f[0][1],o==D?1:0),u.mirror&&f[1][1])for(r=a(f[1][0]+"."+h);r.length--;)R(r[r.length],f[1][1],o==D?1:0);p&&o==S&&u.tap&&x&&v&&!s&&(d=!0)}else if(o==O||o==j){if(f[0][2]&&R(t,f[0][2],o==O?1:0),u.mirror&&f[1][2])for(r=a(f[1][0]+"."+h);r.length--;)R(r[r.length],f[1][2],o==O?1:0);p&&o==j&&u.tap&&x&&C&&!s&&(d=!0)}else p&&(x&&(C||v)&&u.tap&&!s||(d=!0));d&&setTimeout(function(){l=e.currentTarget||{},"LABEL"!==l.tagName&&(!u.change||+new Date-u.change>100)&&(n=a(t).find("input."+h).click(),(c||s)&&n.change())},2)}}).on("click.i change.i focusin.i focusout.i keyup.i keydown.i","input."+o,function(e){var t=this,i=y(t.className);if(i){var n,c,s=e.type,l=k[i],r=l.esc,d="click"==s?!1:F(t,"div",l.className);if("click"==s)k[i].change=+new Date,e.stopPropagation();else if("change"==s)d&&!t.disabled&&z(t,d,i,"click");else if(~s.indexOf("focus")){if(c=[l.focusClass,l.focusLabelClass],c[0]&&d&&R(d,c[0],"focusin"==s?1:0),l.mirror&&c[1])for(n=a("label."+r);n.length--;)R(n[n.length],c[1],"focusin"==s?1:0)}else d&&!t.disabled&&("keyup"==s?(("checkbox"==t.type&&32==e.keyCode&&l.keydown||"radio"==t.type&&!t.checked)&&z(t,d,i,"click",!1,!0),k[i].keydown=!1,k[W]&&(k[W].keydown=!1)):(W=i,k[i].keydown=!0))}}).ready(function(){if(e.icheck.autoInit&&a("."+l).icheck(),e.jQuery){var i=t.body||t.getElementsByTagName("body")[0];a.ajaxSetup({converters:{"text html":function(n){if(e.icheck.autoAjax&&i){var s,r=t.createElement("iframe");c||(r.style="display:none"),r.className="iframe.icheck-frame",r.src="about:blank",i.appendChild(r),s=r.contentDocument?r.contentDocument:r.contentWindow.document,s.open(),s.write(n),s.close(),i.removeChild(r),s=a(s),$(s.find("."+l),{},!0),s=s[0],n=(s.body||s.getElementsByTagName("body")[0]).innerHTML,s=null}return n}}})}})},"function"==typeof define&&define.amd?define("icheck",[e.jQuery?"jquery":"zepto"],e.ichecked):e.ichecked())}(window,document);